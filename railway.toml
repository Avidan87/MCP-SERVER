# Railway deployment configuration for MiDaS MCP Server
# Optimized for cost reduction with lazy loading

[build]
  # Use Dockerfile for build
  builder = "DOCKERFILE"
  dockerfilePath = "Dockerfile"

[deploy]
  # Use CMD from Dockerfile instead of overriding here
  # Railway will automatically inject the PORT environment variable
  # healthcheckPath = "/health"
  # healthcheckTimeout = 300

  # Restart policy
  restartPolicyType = "on_failure"
  restartPolicyMaxRetries = 3

[env]
  # Railway will automatically set PORT
  # These are additional environment variables
  PYTHONUNBUFFERED = "1"
